<LoginScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: [10, 20, 10, 300]
        spacing: 10
        size_hint: 1, 1

        canvas.before:
            Color:
                rgba: 0.2, 0.8, 0.6, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "Welcome to Tebak Gambar!"
            font_size: '25sp'
            color: 1, 1, 1, 1
            size_hint_y: None
            height: '40dp'
            pos_hint: {"center_x": 0.5}

        TextInput:
            id: username
            hint_text: "Username"
            multiline: False
            size_hint: None, None
            size: dp(200), dp(40)
            pos_hint: {"center_x": 0.5}

        TextInput:
            id: password
            hint_text: "Password"
            password: True
            multiline: False
            size_hint: None, None
            size: dp(200), dp(40)
            pos_hint: {"center_x": 0.5}

        TextInput:
            id: confirm_password
            hint_text: "Confirm Password"
            password: True
            multiline: False
            size_hint: None, None
            size: dp(200), dp(40)
            pos_hint: {"center_x": 0.5}
            opacity: 1 if root.is_sign_up else 0

        Button:
            id: submit_button
            text: "Login"
            font_size: '20sp'
            size_hint: None, None
            size: dp(150), dp(60)
            pos_hint: {"center_x": 0.5}
            background_normal: ''
            background_color: 1, 1, 1, 1
            color: 0.2, 0.8, 0.6, 1
            bold: True
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [90]
            on_release: root.submit()

        Label:
            id: login_error
            text: ""
            color: 1, 0, 0, 1
            font_size: '16sp'
            size_hint_y: None
            height: '30dp'
            pos_hint: {"center_x": 0.5}

        Button:
            id: switch_button
            text: "Don't have an account? Sign up"
            font_size: '16sp'
            size_hint: None, None
            size: dp(250), dp(50)
            pos_hint: {"center_x": 0.5}
            background_normal: ''
            background_color: 1, 1, 1, 1
            color: 0.2, 0.8, 0.6, 1
            on_release: root.toggle_sign_up()

<StartScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: [10, 20, 10, 300]
        spacing: 5
        size_hint: 1, 1

        canvas.before:
            Color:
                rgba: 0.2, 0.8, 0.6, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Image:
            source: 'assets/logo.png'
            size_hint: None, None
            size: dp(150), dp(150)
            pos_hint: {"center_x": 0.5}

        Label:
            text: "Tebak Negara"
            font_size: '24sp'
            color: 1, 1, 1, 1
            bold: True
            size_hint_y: None
            height: '30dp'
            pos_hint: {"center_x": 0.5}

        Button:
            size_hint: None, None
            size: dp(200), dp(80)
            pos_hint: {"center_x": 0.5}
            background_normal: 'images/button play.png'  # Menggunakan gambar sebagai background tombol
            background_down: 'images/button play.png'  # Menggunakan gambar saat tombol ditekan
            on_release: root.go_to_level_screen()



<GameWidget>:
    BoxLayout:
        orientation: 'vertical'
        padding: [10, 5, 10, 50]
        spacing: 10
        size_hint: 1, 1

        canvas.before:
            Color:
                rgba: 0.2, 0.8, 0.6, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "Tebak Bendera apakah ini?"
            font_size: '20sp'
            color: 1, 1, 1, 1
            halign: 'center'
            size_hint_y: None
            height: '30dp'

        Label:
            id: score_label
            text: "Your Score: 0"
            font_size: '18sp'
            color: 1, 0.5, 0, 1
            size_hint_y: None
            height: '30dp'

        Label:
            id: timer_label
            text: "Time: 0s"
            font_size: '18sp'
            color: 1, 1, 1, 1
            size_hint_y: None
            height: '30dp'

        Image:
            id: flag_image
            source: root.image_source
            size_hint: None, None
            width: 300
            height: 200
            pos_hint: {"center_x": 0.5}

        Label:
            id: answer_label
            text: ""
            font_size: '16sp'
            color: 1, 1, 1, 1
            halign: 'center'
            size_hint_y: None
            height: '30dp'

        GridLayout:
            cols: 2
            spacing: 5
            size_hint: 0.9, None
            height: '120dp'
            pos_hint: {"center_x": 0.5}

            Button:
                id: choice1
                text: ""
                size_hint: None, None
		        font_size: '20sp'
                size: dp(150), dp(40)
                pos_hint: {"center_x": 0.5}
                bold: True
                color: 0.2, 0.8, 0.6, 1
                background_color: 0, 0, 0, 0
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [30]
                on_release: root.check_answer(self.text)

            Button:
                id: choice2
                text: ""
                size_hint: None, None
		        font_size: '20sp'
                size: dp(150), dp(40)
                pos_hint: {"center_x": 0.5}
                bold: True
                color: 0.2, 0.8, 0.6, 1
                background_color: 0, 0, 0, 0
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [30]
                on_release: root.check_answer(self.text)

            Button:
                id: choice3
                text: ""
                size_hint: None, None
		        font_size: '20sp'
                size: dp(150), dp(40)
                pos_hint: {"center_x": 0.5}
                bold: True
                color: 0.2, 0.8, 0.6, 1
                background_color: 0, 0, 0, 0
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [30]
                on_release: root.check_answer(self.text)

            Button:
                id: choice4
                text: ""
                size_hint: None, None
		        font_size: '20sp'
                size: dp(150), dp(40)
                pos_hint: {"center_x": 0.5}
                bold: True
                color: 0.2, 0.8, 0.6, 1
                background_color: 0, 0, 0, 0
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [30]
                on_release: root.check_answer(self.text)

        Widget:
            size_hint_y: None
            height: '70dp'

        Button:
            size_hint: None, None
            size: dp(120), dp(70)
            pos_hint: {"center_x": 0.5}
            background_normal: 'images/button kembali.png'  # Menggunakan gambar sebagai background tombol
            background_down: 'images/button kembali.png'  # Menggunakan gambar saat tombol ditekan
            on_release: root.go_to_level_screen()
            on_release:
                app.root.current = 'start'
                app.root.get_screen('game').score = 0
                app.root.get_screen('game').question_count = 0

<ResultScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20, 20, 300]
        spacing: 15
        size_hint: 1, 1

        canvas.before:
            Color:
                rgba: 0.2, 0.8, 0.6, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            id: result_label
            text: ""
            font_size: '22sp'
            color: 1, 1, 1, 1
            bold: True
            size_hint_y: None
            height: '40dp'
            pos_hint: {"center_x": 0.5}

        Label:
            id: final_score_label
            text: "Your Final Score: 0"
            font_size: '20sp'
            color: 0.9, 0.9, 0, 1
            size_hint_y: None
            height: '30dp'
            pos_hint: {"center_x": 0.5}

        Label:
            id: time_label
            text: "Time Taken: 0 seconds"
            font_size: '18sp'
            color: 0.8, 1, 0.8, 1
            size_hint_y: None
            height: '30dp'
            pos_hint: {"center_x": 0.5}

        Button:
            text: "Coba Lagi"
            size_hint: None, None
		    font_size: '20sp'
            size: dp(250), dp(40)
            pos_hint: {"center_x": 0.5}
            bold: True
            color: 0.2, 0.8, 0.6, 1
            background_color: 0, 0, 0, 0
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [30]
            on_release:
                app.root.current = 'game'
                app.root.get_screen('game').score = 0
                app.root.get_screen('game').question_count = 0
                app.root.get_screen('game').load_question()
                app.root.get_screen('game').start_timer()

        Button:
            text: "Kembali Ke Menu Utama"
            size_hint: None, None
		    font_size: '20sp'
            size: dp(250), dp(40)
            pos_hint: {"center_x": 0.5}
            bold: True
            color: 0.2, 0.8, 0.6, 1
            background_color: 0, 0, 0, 0
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [30]
            on_release:
                app.root.current = 'start'
                app.root.get_screen('game').score = 0
                app.root.get_screen('game').question_count = 0

        Button:
            text: "Keluar"
            size_hint: None, None
		    font_size: '20sp'
            size: dp(250), dp(40)
            pos_hint: {"center_x": 0.5}
            bold: True
            color: 0.2, 0.8, 0.6, 1
            background_color: 0, 0, 0, 0
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [30]
            on_release: app.stop()
            
<LevelScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20, 20, 300]
        spacing: 15
        size_hint: 1, 1

        canvas.before:
            Color:
                rgba: 0.2, 0.8, 0.6, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "PILIH LEVEL MU"
            font_size: dp(24)
            size_hint_y: None
            bold: True
            height: self.texture_size[1]

        # Spacer to add space between the Label and Buttons
        Widget:
            size_hint_y: None
            height: dp(70)  # Adjust the height as needed
        Button:
            size_hint: None, None
            size: dp(200), dp(80)
            pos_hint: {"center_x": 0.5}
            background_normal: 'images/button level 1.png'  # Menggunakan gambar sebagai background tombol
            background_down: 'images/button level 1.png'  # Menggunakan gambar saat tombol ditekan
            on_release: root.go_to_level_screen()
            on_press: root.select_level('asia')

        Button:
            size_hint: None, None
            size: dp(200), dp(80)
            pos_hint: {"center_x": 0.5}
            background_normal: 'images/button level 2.png'  # Menggunakan gambar sebagai background tombol
            background_down: 'images/button level 2.png'  # Menggunakan gambar saat tombol ditekan
            on_release: root.go_to_level_screen()
            on_press: root.select_level('europe')

        Button:
            size_hint: None, None
            size: dp(200), dp(80)
            pos_hint: {"center_x": 0.5}
            background_normal: 'images/button level 3.png'  # Menggunakan gambar sebagai background tombol
            background_down: 'images/button level 3.png'  # Menggunakan gambar saat tombol ditekan
            on_release: root.go_to_level_screen()
            on_press: root.select_level('amerikaselatan')

